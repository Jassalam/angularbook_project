{"ast":null,"code":"import { switchMap } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../book-api.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction BookEditComponent_form_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"form\", null, 1)(2, \"h1\");\n    i0.ɵɵtext(3, \"Edit Book\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"p\")(5, \"label\", 2);\n    i0.ɵɵtext(6, \"Book Title \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"input\", 3, 4);\n    i0.ɵɵlistener(\"ngModelChange\", function BookEditComponent_form_0_Template_input_ngModelChange_7_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r9);\n      const book_r1 = restoredCtx.ngIf;\n      return i0.ɵɵresetView(book_r1.title = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"p\")(10, \"label\", 5);\n    i0.ɵɵtext(11, \"Author \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"input\", 6, 4);\n    i0.ɵɵlistener(\"ngModelChange\", function BookEditComponent_form_0_Template_input_ngModelChange_12_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r9);\n      const book_r1 = restoredCtx.ngIf;\n      return i0.ɵɵresetView(book_r1.author = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(14, \"p\")(15, \"label\", 7);\n    i0.ɵɵtext(16, \"Abstract \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"input\", 8, 4);\n    i0.ɵɵlistener(\"ngModelChange\", function BookEditComponent_form_0_Template_input_ngModelChange_17_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r9);\n      const book_r1 = restoredCtx.ngIf;\n      return i0.ɵɵresetView(book_r1.abstract = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(19, \"p\")(20, \"label\", 9);\n    i0.ɵɵtext(21, \"ISBN \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"input\", 10, 4);\n    i0.ɵɵlistener(\"ngModelChange\", function BookEditComponent_form_0_Template_input_ngModelChange_22_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r9);\n      const book_r1 = restoredCtx.ngIf;\n      return i0.ɵɵresetView(book_r1.isbn = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(24, \"p\")(25, \"label\", 11);\n    i0.ɵɵtext(26, \"Book Cover \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(27, \"input\", 12, 4);\n    i0.ɵɵlistener(\"ngModelChange\", function BookEditComponent_form_0_Template_input_ngModelChange_27_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r9);\n      const book_r1 = restoredCtx.ngIf;\n      return i0.ɵɵresetView(book_r1.cover = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(29, \"p\")(30, \"button\", 13);\n    i0.ɵɵlistener(\"click\", function BookEditComponent_form_0_Template_button_click_30_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r9);\n      const book_r1 = restoredCtx.ngIf;\n      const ctx_r14 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r14.onSaveChange(book_r1));\n    });\n    i0.ɵɵtext(31, \"Chnage Save\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const book_r1 = ctx.ngIf;\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngModel\", book_r1.title);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngModel\", book_r1.author);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngModel\", book_r1.abstract);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngModel\", book_r1.isbn);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngModel\", book_r1.cover);\n  }\n}\nexport class BookEditComponent {\n  constructor(route, bookApi) {\n    this.route = route;\n    this.bookApi = bookApi;\n  }\n  ngOnInit() {\n    this.book$ = this.route.params.pipe(switchMap(params => this.bookApi.getBookByIsbn(params?.['isbn'])));\n  }\n  onSaveChange(ev) {\n    console.log(this.book$);\n  }\n}\nBookEditComponent.ɵfac = function BookEditComponent_Factory(t) {\n  return new (t || BookEditComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.BookApiService));\n};\nBookEditComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: BookEditComponent,\n  selectors: [[\"app-book-edit\"]],\n  decls: 2,\n  vars: 3,\n  consts: [[4, \"ngIf\"], [\"form\", \"ngForm\"], [\"for\", \"title\"], [\"type\", \"text\", \"name\", \"title\", 3, \"ngModel\", \"ngModelChange\"], [\"title\", \"ngModel\"], [\"for\", \"author\"], [\"type\", \"text\", \"name\", \"author\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"abstract\"], [\"type\", \"textarea\", \"name\", \"abstract\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"isbn\"], [\"type\", \"text\", \"name\", \"isbn\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"cover\"], [\"type\", \"text\", \"name\", \"cover\", 3, \"ngModel\", \"ngModelChange\"], [3, \"click\"]],\n  template: function BookEditComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, BookEditComponent_form_0_Template, 32, 5, \"form\", 0);\n      i0.ɵɵpipe(1, \"async\");\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx.book$));\n    }\n  },\n  dependencies: [i3.NgIf, i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.NgModel, i4.NgForm, i3.AsyncPipe],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"AACA,SAAqBA,SAAS,QAAQ,MAAM;;;;;;;;;ICA5CC,qCAAmD;IAC3CA,yBAAS;IAAAA,iBAAK;IAClBA,yBAAG;IACoBA,2BAAW;IAAAA,iBAAQ;IACtCA,mCACuD;IAAvDA;MAAA;MAAA;MAAA,OAAaA,sCAAkB;IAAA,EAAP;IADxBA,iBACuD;IAGzDA,yBAAG;IACmBA,wBAAO;IAAAA,iBAAQ;IACnCA,oCACyD;IAAzDA;MAAA;MAAA;MAAA,OAAaA,uCAAmB;IAAA,EAAP;IADzBA,iBACyD;IAG3DA,0BAAG;IACqBA,0BAAS;IAAAA,iBAAQ;IACvCA,oCAC6D;IAA7DA;MAAA;MAAA;MAAA,OAAaA,yCAAqB;IAAA,EAAP;IAD3BA,iBAC6D;IAG/DA,0BAAG;IACiBA,sBAAK;IAAAA,iBAAQ;IAC/BA,qCACqD;IAArDA;MAAA;MAAA;MAAA,OAAaA,qCAAiB;IAAA,EAAP;IADvBA,iBACqD;IAGvDA,0BAAG;IACkBA,4BAAW;IAAAA,iBAAQ;IACtCA,qCACuD;IAAvDA;MAAA;MAAA;MAAA,OAAaA,sCAAkB;IAAA,EAAP;IADxBA,iBACuD;IAGzDA,0BAAG;IACOA;MAAA;MAAA;MAAA;MAAA,OAASA,4CAAkB;IAAA,EAAC;IAACA,4BAAW;IAAAA,iBAAS;;;;IA5BzDA,eAAwB;IAAxBA,uCAAwB;IAMxBA,eAAyB;IAAzBA,wCAAyB;IAMzBA,eAA2B;IAA3BA,0CAA2B;IAM3BA,eAAuB;IAAvBA,sCAAuB;IAMvBA,eAAwB;IAAxBA,uCAAwB;;;ADnBhC,OAAM,MAAOC,iBAAiB;EAM5BC,YAAoBC,KAAqB,EAC/BC,OAAuB;IADb,UAAK,GAALD,KAAK;IACf,YAAO,GAAPC,OAAO;EAAkB;EAEnCC,QAAQ;IACN,IAAI,CAACC,KAAK,GAAG,IAAI,CAACH,KAAK,CAACI,MAAM,CAACC,IAAI,CACjCT,SAAS,CAACQ,MAAM,IAAK,IAAI,CAACH,OAAO,CAACK,aAAa,CAACF,MAAM,GAAG,MAAM,CAAC,CAAC,CAAC,CACjE;EACL;EACAG,YAAY,CAACC,EAAQ;IACnBC,OAAO,CAACC,GAAG,CAAC,IAAI,CAACP,KAAK,CAAC;EACtB;;AAhBQL,iBAAiB;mBAAjBA,iBAAiB;AAAA;AAAjBA,iBAAiB;QAAjBA,iBAAiB;EAAAa;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCV9BlB,qEAmCO;;;;MAnCeA,sDAAoB","names":["switchMap","i0","BookEditComponent","constructor","route","bookApi","ngOnInit","book$","params","pipe","getBookByIsbn","onSaveChange","ev","console","log","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["/Users/jasveerkaur/bootcamp/bookmonkey-client/src/app/book/book-edit/book-edit.component.ts","/Users/jasveerkaur/bootcamp/bookmonkey-client/src/app/book/book-edit/book-edit.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { Observable, switchMap } from 'rxjs';\nimport { Book } from '../book';\nimport { ActivatedRoute } from '@angular/router';\nimport { BookApiService } from '../book-api.service';\n\n@Component({\n  selector: 'app-book-edit',\n  templateUrl: './book-edit.component.html',\n  styleUrls: ['./book-edit.component.scss']\n})\nexport class BookEditComponent implements OnInit{\n\n  book$!: Observable<Book>;\n  isbn!: string;\n  title!: string;\n\n  constructor(private route: ActivatedRoute, \n    private bookApi: BookApiService){}\n\n  ngOnInit(): void {\n    this.book$ = this.route.params.pipe(\n      switchMap(params  => this.bookApi.getBookByIsbn(params?.['isbn']))\n      );\n  }\n  onSaveChange(ev: Book) {\n    console.log(this.book$);\n     }\n\n}\n","\n<form #form=\"ngForm\" *ngIf=\"book$ | async as book\">\n    <h1>Edit Book</h1>\n    <p>\n        <label for=\"title\">Book Title </label>\n        <input type=\"text\"\n        [(ngModel)]=\"book.title\" name=\"title\" #title=\"ngModel\">\n      </p>\n     \n      <p>\n        <label for=\"author\">Author </label>\n        <input type=\"text\"\n        [(ngModel)]=\"book.author\" name=\"author\" #title=\"ngModel\">\n      </p>\n     \n      <p>\n        <label for=\"abstract\">Abstract </label>\n        <input type=\"textarea\"\n        [(ngModel)]=\"book.abstract\" name=\"abstract\" #title=\"ngModel\">\n      </p>\n     \n      <p>\n        <label for=\"isbn\">ISBN </label>\n        <input type=\"text\"\n        [(ngModel)]=\"book.isbn\" name=\"isbn\" #title=\"ngModel\">\n      </p>\n     \n      <p>\n        <label for=\"cover\">Book Cover </label>\n        <input type=\"text\"\n        [(ngModel)]=\"book.cover\" name=\"cover\" #title=\"ngModel\">\n      </p>\n     \n      <p>\n        <button (click)=\"onSaveChange(book)\">Chnage Save</button>\n      </p>\n</form>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}